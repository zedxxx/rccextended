Read this in other language: [English](readme.md)


## Описание

**RccExtended** - компилятор и **декомпилятор** бинарных Qt ресурсов (файлов с расширением .rcc). 

Позволяет редактировать ресурсы Qt программ, не имея их исходников.

Эта утилита основана на стандартном компиляторе Qt ресурсов, в который добавлена функция распаковки ресурсов: ключи командной строки `--reverse` или `-r`.

Алгоритм редактирования:
  
  - распаковка (декомпиляция) бинарных Qt ресурсов (при помощи данной утилиты);
  - редактирование распакованных файлов (.png, .xml, .txt и т.д.) сторонними средствами;
  - компиляция отредактированных файлов обратно в бинарные Qt ресурсы (при помощи данной утилиты).

Для распаковки ресурсов нужно выполнить следующие шаги:

  - перейти в папку с ресурсами;
  - запустить утилиту с ключом `--reverse` или `-r`.

*Опционально, можно указать маску для поиска файлов или путь к конкретному файлу для распаковки (см. примеры ниже).*

После запуска, утилита выполняет следующие действия:
  
  - сканирует текущую директорию в поиске файлов с расширением `.rcc`;
  - распаковывает все найденные файлы ресурсов (каждый в отдельную папку);
  - генерирует файлы проекта `.qrc` и скрипт `rcc-make.bat` (или `rcc-make.sh` в Linux) для обратной компиляции ресурсов в бинарный вид;
  - выводит в консоль и записывает в лог информацию о ходе распаковки.

## Примеры

Распаковать все файлы ресурсов с расширением `*.rcc` в текущей директории:
```
    cd path-to-my-qt-resources
    rcc --reverse
```

Распаковать все файлы ресурсов с расширением `*.qbtheme` в текущей директории:
```
    cd path-to-my-qt-resources
    rcc --reverse *.qbtheme
```

Распаковать один конкретный файл:
```
    rcc -r example.rcc
```

## Компиляция

Под Windows 10:
  
  - установить окружение [MSYS2](https://www.msys2.org/)
  - установить пакеты [gcc](https://packages.msys2.org/packages/mingw-w64-x86_64-gcc), [qt5-static](https://packages.msys2.org/base/mingw-w64-qt5-static) и [libzstd](https://packages.msys2.org/base/mingw-w64-zstd): `pacman -S mingw-w64-x86_64-gcc mingw-w64-x86_64-qt5-static mingw-w64-x86_64-zstd`
  - из командной строки mingw64 перейти в папку `rccextended/src`
  - выполнить команду `qmake rcc.pro && make`

Под Ubuntu 24.04 LTS:

  - установить C++ компилятор, Qt5 и libzstd: `sudo apt install build-essential qtbase5-dev qtbase5-dev-tools qt5-qmake qtchooser libzstd-dev`
  - перейти в папку `rccextended/src`
  - выполнить команду: `qmake rcc.pro && make`
  - переместить скомпилированный бинарник в `~/.local/bin` командой: `mv -v rcc ~/.local/bin/`

## Установка

Программа полностью портативная, не требует установки и представляет собой один файл `rcc.exe`

Для удобства использования рекомендуется поместить программу в папку `C:\Program Files\RccExtended\` и добавить этот путь в переменную среды PATH.